# queryBridgeWords函数白盒测试用例设计

## 函数签名
```java
public String queryBridgeWords(String word1, String word2)
```

## 控制流图分析

### 函数控制流分析
根据修复后的queryBridgeWords函数，控制流路径如下：

```java
public String queryBridgeWords(String word1, String word2) {
    // 1. 输入验证 - null检查
    if (word1 == null || word2 == null) {        // 判断节点1
        return "Error: Input words cannot be null.";  // 路径1
    }
    
    // 2. 输入验证 - 空字符串检查  
    if (word1.isEmpty() || word2.isEmpty()) {    // 判断节点2
        return "No " + word1 + " or " + word2 + " in the graph!";  // 路径2
    }
    
    // 3. 字符串转小写
    word1 = word1.toLowerCase();
    word2 = word2.toLowerCase();
    
    // 4. 检查单词是否在图中
    if (!graph.containsNode(word1) || !graph.containsNode(word2)) {  // 判断节点3
        return "No " + word1 + " or " + word2 + " in the graph!";    // 路径3
    }
    
    // 5. 查找桥接词
    List<String> bridgeWords = new ArrayList<>();
    Map<String, Integer> neighborsOfWord1 = graph.getEdges(word1);
    
    // 6. 遍历word1的邻居
    for (String potentialBridge : neighborsOfWord1.keySet()) {       // 循环节点4
        if (graph.getEdgeWeight(potentialBridge, word2) > 0) {       // 判断节点5
            bridgeWords.add(potentialBridge);
        }
    }
    
    // 7. 返回结果
    if (bridgeWords.isEmpty()) {                                     // 判断节点6
        return "No bridge words from " + word1 + " to " + word2 + "!";  // 路径4
    } else {
        // 8. 构造桥接词列表字符串
        StringBuilder result = new StringBuilder("The bridge words from " + word1 + " to " + word2 + " are: ");
        for (int i = 0; i < bridgeWords.size(); i++) {               // 循环节点7
            if (i > 0) {                                             // 判断节点8
                if (i == bridgeWords.size() - 1) {                   // 判断节点9
                    result.append(" and ");
                } else {
                    result.append(", ");
                }
            }
            result.append(bridgeWords.get(i));
        }
        result.append(".");
        return result.toString();                                    // 路径5
    }
}
```

## 基本路径分析

### 环路复杂度计算
- 判断节点：6个（节点1,2,3,5,6,8,9）
- 循环节点：2个（节点4,7）
- 环路复杂度 V(G) = 判断节点数 + 循环节点数 + 1 = 6 + 2 + 1 = 9

### 独立路径识别
1. **路径1**: null输入路径
   - 输入：word1=null, word2="test"
   - 路径：1→返回

2. **路径2**: 空字符串输入路径
   - 输入：word1="", word2="test"
   - 路径：1→2→返回

3. **路径3**: 单词不在图中路径
   - 输入：word1="notexist", word2="test"
   - 路径：1→2→3→返回

4. **路径4**: 两个单词在图中但无桥接词路径
   - 输入：word1="scientist", word2="team"
   - 路径：1→2→3→4(无邻居或无桥接)→6→返回

5. **路径5a**: 有一个桥接词的路径
   - 输入：word1="the", word2="data"
   - 路径：1→2→3→4→5(找到桥接词)→6→7(i=0)→8(否)→返回

6. **路径5b**: 有多个桥接词的路径（第一个桥接词）
   - 输入：构造有多个桥接词的情况
   - 路径：1→2→3→4→5(找到多个桥接词)→6→7(i=0)→8(否)→继续

7. **路径5c**: 有多个桥接词的路径（中间桥接词）
   - 输入：同路径5b
   - 路径：...→7(i>0)→8(是)→9(否，不是最后一个)→继续

8. **路径5d**: 有多个桥接词的路径（最后一个桥接词）
   - 输入：同路径5b
   - 路径：...→7(i>0)→8(是)→9(是，最后一个)→返回

9. **路径6**: word1没有邻居的路径
   - 输入：word1在图中但没有出边
   - 路径：1→2→3→4(邻居集合为空)→6→返回

## 白盒测试用例

### TC-WB01: null输入测试
- **输入**: word1=null, word2="test"
- **期望输出**: "Error: Input words cannot be null."
- **覆盖路径**: 路径1

### TC-WB02: 空字符串输入测试
- **输入**: word1="", word2="test"
- **期望输出**: "No  or test in the graph!"
- **覆盖路径**: 路径2

### TC-WB03: 单词不在图中测试
- **输入**: word1="notexist", word2="also_notexist"
- **期望输出**: "No notexist or also_notexist in the graph!"
- **覆盖路径**: 路径3

### TC-WB04: 无桥接词测试
- **输入**: word1="scientist", word2="team"
- **期望输出**: "No bridge words from scientist to team!"
- **覆盖路径**: 路径4

### TC-WB05: 单个桥接词测试
- **测试准备**: 构造图使得"a"->"bridge"->"b"
- **输入**: word1="a", word2="b"
- **期望输出**: "The bridge words from a to b are: bridge."
- **覆盖路径**: 路径5a

### TC-WB06: 多个桥接词测试
- **测试准备**: 构造图使得"a"->"bridge1"->"c", "a"->"bridge2"->"c", "a"->"bridge3"->"c"
- **输入**: word1="a", word2="c"
- **期望输出**: "The bridge words from a to c are: bridge1, bridge2 and bridge3."
- **覆盖路径**: 路径5b,5c,5d

### TC-WB07: word1无邻居测试
- **测试准备**: 构造图使得word1在图中但无出边
- **输入**: word1="isolated", word2="any"
- **期望输出**: "No bridge words from isolated to any!"
- **覆盖路径**: 路径6

### TC-WB08: 边界情况 - 大小写转换
- **输入**: word1="THE", word2="DATA"
- **期望输出**: 与小写输入相同的结果
- **覆盖路径**: 验证字符串转换逻辑

## 测试数据构造

为了执行这些测试用例，需要构造特定的测试图：

### 简单测试图构造
```
节点: a, b, c, bridge, bridge1, bridge2, bridge3, isolated, the, data, scientist, team
边:
- a -> bridge
- bridge -> b
- a -> bridge1
- bridge1 -> c  
- a -> bridge2
- bridge2 -> c
- a -> bridge3
- bridge3 -> c
- the -> scientist (现有)
- scientist -> data (现有)
- isolated (无出边)
```

这样的图结构可以覆盖所有基本路径。 